# لوحة تحكم المعلم - Teacher Dashboard

## نظرة عامة
تم تنفيذ نظام متكامل للوحة تحكم المعلم التي تعرض **فقط البيانات الحقيقية** من قاعدة البيانات. لا توجد أي بيانات وهمية أو تجريبية.

## الميزات المطبقة

### 1. الإحصائيات الحقيقية
- **الكورسات النشطة**: عدد الكورسات المنشورة للمعلم (من لوحة الإدارة)
- **إجمالي الطلاب**: عدد الطلاب المسجلين في جميع كورسات المعلم
- **الواجبات المعلقة**: سيتم إضافتها لاحقاً
- **الأرباح الشهرية**: حساب تلقائي بناءً على أسعار الكورسات (70% للمعلم)

### 2. النشاط الحديث للطلاب
- عرض تسجيلات الطلاب الجديدة في الكورسات
- الوقت النسبي (مثل "منذ 5 أيام")
- أيقونات الطلاب مع الأحرف الأولى من أسمائهم

### 3. أفضل الكورسات أداءً
- ترتيب الكورسات حسب عدد الطلاب
- معدل إكمال الكورس
- تقييم الطلاب (سيتم إضافته لاحقاً)
- الأرباح المتوقعة لكل كورس

### 4. الفصول القادمة
- جدولة تلقائية للفصول بناءً على تواريخ بداية الكورسات
- عرض عدد الطلاب المسجلين
- مدة كل فصل

## الملفات المحدثة

### 1. Controller
- `app/Http/Controllers/Teacher/DashboardController.php` - محدث
- يجلب البيانات الحقيقية من قاعدة البيانات
- يحسب الإحصائيات تلقائياً
- يعرض رسائل واضحة عندما لا توجد بيانات

### 2. النماذج
- `app\Models\Course.php` - يحتوي على علاقة `instructor_id`
- `app\Models\User.php` - يحتوي على علاقة `teachingCourses`
- `app\Models\CourseEnrollment.php` - لتتبع تسجيلات الطلاب

### 3. الصفحة
- `resources/js/Pages/Teacher/Dashboard.vue` - محدثة
- تستخدم البيانات من Controller
- تعرض رسائل واضحة وتعليمات عند عدم وجود بيانات
- لا تحتوي على أي بيانات وهمية

### 4. الراوتر
- `routes/web.php` - محدث
- يستخدم Controller بدلاً من closure

## كيفية الاستخدام

### 1. تسجيل الدخول كمعلم
```
Email: teacher@teacher.com
Password: password
```

**أو استخدام الحساب الافتراضي:**
```
Email: teacher@edudream.com
Password: password
```

### 2. عرض البيانات
- **بدون كورسات**: ستظهر رسالة واضحة مع تعليمات
- **مع كورسات**: ستظهر الإحصائيات الحقيقية تلقائياً
- **الطلاب**: سيظهرون عند تسجيلهم في الكورسات

### 3. إضافة كورسات جديدة
- من لوحة الإدارة: `/admin/courses/create`
- تعيين المعلم: `teacher@teacher.com` أو `teacher@edudream.com`
- تعيين الحالة: `published`
- سيظهر الكورس تلقائياً في لوحة المعلم

## رسائل النظام

### عندما لا توجد كورسات:
- رسالة زرقاء واضحة في أعلى الصفحة
- تعليمات مفصلة لإضافة كورس جديد
- رسائل توضيحية في كل قسم

### عندما توجد كورسات:
- الإحصائيات تظهر تلقائياً
- النشاط الحديث للطلاب
- أداء الكورسات
- الفصول القادمة

## البيانات المعروضة

- **الإحصائيات**: الكورسات النشطة، عدد الطلاب، الأرباح
- **النشاط**: تسجيلات الطلاب الجديدة في الكورسات
- **الأداء**: أفضل الكورسات حسب عدد الطلاب
- **الجدول**: الفصول القادمة مع التواريخ والأوقات

## ملاحظات مهمة

1. **لا توجد بيانات وهمية**: النظام فارغ تماماً عند البداية
2. **البيانات تأتي من لوحة الإدارة**: فقط الكورسات التي تم إنشاؤها من هناك
3. **التحديث تلقائي**: عند إضافة كورس جديد، سيظهر فوراً في لوحة المعلم
4. **رسائل واضحة**: النظام يعطي تعليمات واضحة للمعلم

## الحسابات المتاحة

### المدير (Admin)
```
Email: admin@admin.com
Password: password
```

### المعلم (Teacher)
```
Email: teacher@teacher.com
Password: password
```

### الطالب (Student)
```
Email: student1@student.com
Password: password
```

## الخطوات التالية

1. **إضافة نظام الواجبات** لتتبع الواجبات المعلقة
2. **نظام التقييم** لتقييم الطلاب
3. **نظام التقارير** لعرض إحصائيات مفصلة
4. **نظام الإشعارات** لإعلام المعلم بالتحديثات

## ملاحظات تقنية

- يستخدم النظام **Inertia.js** للتفاعل
- **Vue.js 3** للواجهة الأمامية
- **Laravel 11** للخلفية
- **Spatie Laravel Permission** لإدارة الأدوار
- **Tailwind CSS** للتصميم

## استكشاف الأخطاء

إذا لم تظهر البيانات:
1. تأكد من تشغيل `php artisan serve`
2. تأكد من تسجيل الدخول كمعلم
3. **اذهب إلى لوحة الإدارة وأضف كورس جديد**
4. تأكد من تعيين المعلم الصحيح والحالة "منشور"

## مثال على إضافة كورس

1. اذهب إلى `/admin/courses/create`
2. املأ البيانات:
   - العنوان: "كورس الرياضيات"
   - المعلم: `teacher@teacher.com`
   - الحالة: `published`
   - السعر: `99.99`
3. احفظ الكورس
4. عد إلى لوحة المعلم - سيظهر الكورس تلقائياً!

## تشغيل النظام

```bash
# تشغيل الخادم
php artisan serve

# إعادة إنشاء قاعدة البيانات (إذا لزم الأمر)
php artisan migrate:fresh --seed
```
